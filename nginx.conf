server {
    listen 80;
    server_name mavi-vpn.eu www.mavi-vpn.eu;

    # WICHTIG: Ersetze /var/www/mavi-vpn/dist mit dem tatsächlichen Pfad
    # auf deinem Server, wo der INHALT des dist/ Ordners liegt.
    root /var/www/mavi-vpn/dist;
    
    # Standarddatei, die von Vite gebaut wird
    index index.html;

    location / {
        # Magie der Single Page Application (React Router):
        # Wenn Nginx die Datei (z.B. /technology) nicht als echte 
        # Datei auf der Festplatte findet, liefert er IMMER 
        # die index.html aus. React übernimmt dann den Rest.
        try_files $uri $uri/ /index.html;
    }

    # Performance-Boost: Cache-Richtlinien für statische Assets (Bilder, CSS, JS)
    location ~* \.(js|css|png|jpg|jpeg|gif|ico|svg|webp|woff|woff2|ttf|eot)$ {
        expires 1y;
        add_header Cache-Control "public, max-age=31536000, immutable";
        access_log off;
    }
}
